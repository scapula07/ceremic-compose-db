import type { BaseQuery, CeramicApi } from '@ceramicnetwork/common';
import type { ModelInstanceDocument } from '@ceramicnetwork/stream-model-instance';
import type { CommitID, StreamID } from '@ceramicnetwork/streamid';
import type { Connection } from 'graphql-relay';
import { type ConnectionQuery } from './query.js';
import { type DocumentCache, DocumentLoader, type UpdateDocOptions } from './loader.js';
export declare type ContextParams = {
    /**
     * Optional cache for documents.
     */
    cache?: DocumentCache | boolean;
    /**
     * Ceramic client instance.
     */
    ceramic: CeramicApi;
    /**
     * @internal
     */
    loader?: DocumentLoader;
};
/**
 * GraphQL execution context, exported by the {@linkcode client} module.
 *
 * ```sh
 * import { Context } from '@composedb/client'
 * ```
 */
export declare class Context {
    #private;
    constructor(params: ContextParams);
    /**
     * Returns whether the Ceramic client instance used internally is authenticated or not. When not
     * authenticated, mutations will fail.
     */
    get authenticated(): boolean;
    /**
     * Ceramic client instance used internally.
     */
    get ceramic(): CeramicApi;
    /**
     * Document loader instance used internally.
     */
    get loader(): DocumentLoader;
    /**
     * ID of the current viewer (authenticated DID), if set.
     */
    get viewerID(): string | null;
    /**
     * Load a document by ID, using the cache if possible.
     */
    loadDoc<Content extends Record<string, any> = Record<string, any>>(id: string | CommitID | StreamID, fresh?: boolean): Promise<ModelInstanceDocument<Content>>;
    /**
     * Create a new document with the given model and content.
     */
    createDoc<Content extends Record<string, any> = Record<string, any>>(model: string, content: Content): Promise<ModelInstanceDocument<Content>>;
    /**
     * Create a new single document with the given model and content.
     */
    createSingle<Content extends Record<string, any> = Record<string, any>>(model: string, content: Content): Promise<ModelInstanceDocument<Content>>;
    /**
     * Update an existing document.
     */
    updateDoc<Content extends Record<string, any> = Record<string, any>>(id: string | StreamID, content: Content, options?: UpdateDocOptions): Promise<ModelInstanceDocument<Content>>;
    /**
     * Query the index for a connection of documents.
     */
    queryConnection(query: ConnectionQuery): Promise<Connection<ModelInstanceDocument | null>>;
    /**
     * Query the index for the total number of documents matching the query parameters.
     */
    queryCount(query: BaseQuery): Promise<number>;
    /**
     * Query the index for a single document.
     */
    querySingle(query: BaseQuery): Promise<ModelInstanceDocument | null>;
}
