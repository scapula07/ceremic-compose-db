import { LoadOpts, Stream, CeramicApi } from '@ceramicnetwork/common';
import { CommitID, StreamID } from '@ceramicnetwork/streamid';
import type { JSONSchema } from 'json-schema-typed/draft-2020-12';
export interface ModelMetadataArgs {
    controller: string;
}
export interface ModelMetadata {
    controller: string;
    model: StreamID;
}
export declare type ModelAccountRelation = {
    type: 'list';
} | {
    type: 'single';
};
export declare type ModelRelationDefinition = {
    type: 'account';
} | {
    type: 'document';
    model: string;
};
export declare type ModelRelationsDefinition = Record<string, ModelRelationDefinition>;
export declare type ModelDocumentMetadataViewDefinition = {
    type: 'documentAccount';
} | {
    type: 'documentVersion';
};
export declare type ModelRelationViewDefinition = {
    type: 'relationDocument';
    model: string;
    property: string;
} | {
    type: 'relationFrom';
    model: string;
    property: string;
} | {
    type: 'relationCountFrom';
    model: string;
    property: string;
};
export declare type ModelViewDefinition = ModelDocumentMetadataViewDefinition | ModelRelationViewDefinition;
export declare type ModelViewsDefinition = Record<string, ModelViewDefinition>;
export interface ModelDefinition {
    name: string;
    description?: string;
    schema: JSONSchema.Object;
    accountRelation: ModelAccountRelation;
    relations?: ModelRelationsDefinition;
    views?: ModelViewsDefinition;
}
export declare class Model extends Stream {
    static STREAM_TYPE_NAME: string;
    static STREAM_TYPE_ID: number;
    static readonly MODEL: StreamID;
    private _isReadOnly;
    get content(): ModelDefinition;
    get metadata(): ModelMetadata;
    static create(ceramic: CeramicApi, content: ModelDefinition, metadata?: ModelMetadataArgs): Promise<Model>;
    static assertComplete(content: ModelDefinition, streamId?: StreamID | CommitID | string): void;
    static load(ceramic: CeramicApi, streamId: StreamID | CommitID | string, opts?: LoadOpts): Promise<Model>;
    private static _makeGenesis;
    private static _makeRawGenesis;
    makeReadOnly(): void;
    get isReadOnly(): boolean;
    private static _signDagJWS;
}
//# sourceMappingURL=model.d.ts.map